<div class="edit-user-form-container">

  <h2>Editar / Agregar Usuario</h2>
  @if (estoyEnEditar()) {
    <form [formGroup]="editUserForm" (ngSubmit)="onSubmit()">

    <!-- Username -->
    <div class="form-group">
      <label for="username">Nombre de usuario</label>
      <input type="text" id="username" formControlName="username" placeholder="Ingrese nombre de usuario" />
      <small *ngIf="editUserForm.get('username')?.invalid && editUserForm.get('username')?.touched" class="error">
        El nombre de usuario es requerido.
      </small>
    </div>

    <!-- Password -->
    <div class="form-group password-group">
        <label for="password">Contraseña</label>
    <div class="password-wrapper">
        <input [type]="mostrarPassword ? 'text' : 'password'" id="password" formControlName="password" placeholder="Ingrese contraseña" />
        <i class="fa" [ngClass]="mostrarPassword ? 'fa-eye-slash' : 'fa-eye'" (click)="mostrarPassword = !mostrarPassword"></i>
    </div>
        <small *ngIf="editUserForm.get('password')?.invalid && editUserForm.get('password')?.touched" class="error">
    La contraseña es requerida.
        </small>
    </div>

    <!-- Perfil -->
    <div class="form-group">
      <label for="profile">Perfil</label>
      <select id="profile" formControlName="profile">
        <option value="admin">Admin</option>
        <option value="usuario">Empleado</option>
      </select>
    </div>

    <!-- Botones -->
    <div class="form-buttons">
      <button type="submit" [disabled]="editUserForm.invalid">Guardar Cambios</button>
      <button type="button" class="cancel" (click)="back()">Volver Atrás  </button>
    </div>

  </form>
  } @else if (estoyEnAgregar()) {
    <form [formGroup]="newUserForm" (ngSubmit)="agregarNuevoUsuario()">

    <!-- Username -->
    <div class="form-group">
      <label for="username">Nombre de usuario</label>
      <input type="text" id="username" formControlName="username" placeholder="Ingrese nombre de usuario" />
      <small *ngIf="newUserForm.get('username')?.invalid && newUserForm.get('username')?.touched" class="error">
        El nombre de usuario es requerido.
      </small>
    </div>

    <!-- Password -->
    <div class="form-group password-group">
        <label for="password">Contraseña</label>
    <div class="password-wrapper">
        <input [type]="mostrarPassword ? 'text' : 'password'" id="password" formControlName="password" placeholder="Ingrese contraseña" />
        <i class="fa" [ngClass]="mostrarPassword ? 'fa-eye-slash' : 'fa-eye'" (click)="mostrarPassword = !mostrarPassword"></i>
    </div>
        <small *ngIf="newUserForm.get('password')?.invalid && newUserForm.get('password')?.touched" class="error">
    La contraseña es requerida.
        </small>
    </div>

    <!-- Perfil -->
    <div class="form-group">
      <label for="profile">Perfil</label>
      <select id="profile" formControlName="profile">
        <option value="admin">Admin</option>
        <option value="usuario">Empleado</option>
      </select>
    </div>

    <!-- Botones -->
    <div class="form-buttons">
      <button type="submit" [disabled]="newUserForm.invalid">Agregar Usuario</button>
      <button type="button" class="cancel" (click)="back()">Volver Atrás  </button>
    </div>

  </form>
  }
  

</div>

