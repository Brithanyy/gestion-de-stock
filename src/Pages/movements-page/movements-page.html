<main class="container-fluid py-4 movimientos-container">

  <!-- üîπ Encabezado -->
  <section class="mb-4 text-center">
    <h2 class="mb-4 fw-bold text-dark">Movimientos</h2>

    <div class="row justify-content-center g-3 align-items-center">
      <div class="col-12 col-md-6 col-lg-4">
        <input
          type="text"
          class="form-control form-control-lg text-center border-2"
          placeholder="Buscar por fecha o nombre de usuario..."
          [(ngModel)]="terminoBusqueda"
          (input)="filtrarConBarraDeBusqueda()"
        />
      </div>

      <div class="col-12 col-md-6 col-lg-4 d-flex justify-content-center gap-3 flex-wrap">
        <button class="btn btn-warning text-white fw-semibold px-4" (click)="descargarPDF()">
          <i class="fa-solid fa-file-pdf me-2"></i> Exportar a PDF
        </button>
        <button class="btn btn-secondary fw-semibold px-4" (click)="volverAtras()">
          <i class="fa-solid fa-arrow-left me-2"></i> Volver atr√°s
        </button>
      </div>
    </div>
  </section>

  <!-- üîπ Tabla -->
  <section class="tabla-movimientos table-responsive shadow-sm">
    <table class="table table-bordered align-middle text-center mb-0">
      <thead class="table-dark">
        <tr>  
          <th>Nombre</th>
          <th>Movimiento</th>
          <th>Cantidad</th>
          <th>Fecha</th>
          <th>Hora</th>
          <th>Usuario</th>
          <th *ngIf="tipoUsuario() === 'admin'">Acci√≥n</th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let movimiento of movimientos">
          <td>{{ movimiento.nameDrink }}</td>
          <td>
            <span
              class="badge rounded-pill px-3 py-2"
              [ngClass]="{
                'bg-success': movimiento.typeMotion === 'Ingreso',
                'bg-danger': movimiento.typeMotion === 'Egreso'
              }"
            >
              {{ movimiento.typeMotion }}
            </span>
          </td>
          <td>{{ movimiento.amount }}</td>
          <td>{{ movimiento.movementDate | date: 'dd/MM/yyyy' }}</td>
          <td>{{ movimiento.movementDate | date: 'HH:mm' }}</td>
          <td>{{ movimiento.nameUser }}</td>
          <td *ngIf="tipoUsuario() === 'admin'">
            <button class="btn btn-outline-danger btn-sm" (click)="eliminarMovimiento(movimiento)">
              <i class="fa-solid fa-trash"></i>
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </section>

</main>
